# Converter (Windows Forms, FFmpeg GUI)

Простое настольное приложение под Windows для пакетной конвертации видео с использованием FFmpeg через библиотеку Xabe.FFmpeg.

## Возможности
- **Пакетная обработка**: добавление нескольких файлов, удаление выбранных, очистка списка
- **Выбор формата**: MP4, MKV, AVI, MOV, WEBM, FLV
- **Выбор кодеков**: H.264 (libx264), HEVC (libx265), VP9 (libvpx-vp9), AV1 (libsvtav1) и аудиокодеки (AAC, MP3, Opus и др.)
- **Качество и масштаб**: пресеты разрешения или проценты от оригинала, CRF для H.264/H.265
- **Аудио**: вкл/выкл, выбор кодека и битрейта
- **Производительность**: настройка потоков, опциональное аппаратное ускорение
- **Удобство**: шаблон имени вывода, создание подпапки Converted, журнал операций, прогресс общий и по текущему файлу
- **Пресеты**: сохранение/загрузка настроек в файл .preset

## Требования
- Windows 10/11
- .NET 8.0 Desktop Runtime/SDK
- Интернет при первом запуске (автозагрузка FFmpeg)

## Установка и запуск
1. Откройте `Converter.sln` в Visual Studio 2022+ или выполните:
   - `dotnet restore`
   - `dotnet build`
2. Запуск из IDE (F5) или командой:
   - `dotnet run --project Converter.csproj`

При первом запуске приложение автоматически скачает и настроит FFmpeg в `%LocalAppData%/Converter/ffmpeg`. Путь можно задать вручную на вкладке "Дополнительно".

## Использование
1. Добавьте файлы (кнопка или drag&drop).
2. На вкладках "Видео"/"Аудио"/"Вывод"/"Дополнительно" задайте параметры.
3. Укажите папку сохранения. При желании включите подпапку `Converted`.
4. Нажмите "Начать конвертацию". Прогресс и лог отобразятся снизу.

## Пресеты
- Сохранение: "Сохранить пресет" → файл с расширением `.preset`.
- Загрузка: "Загрузить пресет" и выберите сохранённый `.preset`.

## Известные замечания
- Для H.264/H.265 используется `-crf` и `-preset medium` по умолчанию.
- Для MP4 добавляется `-movflags +faststart`.
- Масштабирование использует фильтр `scale` с сохранением чётности размеров кадров.

## Стек и зависимости
- .NET 8.0, Windows Forms
- NuGet: `Xabe.FFmpeg (6.0.2)`, `Xabe.FFmpeg.Downloader (5.1.0)`

## Лицензия
Укажите лицензию проекта (например, MIT) или сообщите, если репозиторий приватный.
